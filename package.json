{
	"name": "sharedlock",
	"displayName": "SharedLock",
	"description": "Sharing file locks in workspace files via network",
	"version": "0.1.0",
	"publisher": "code4bones",
	"icon": "resources/icons/logo.png",
	"repository": {
		"type": "git",
		"url": "https://github.com/code4bones/vscode.sharedlock.git"
	},
	"bugs": {
		"url": "https://github.com/code4bones/vscode.sharedlock/issues",
		"email": "p.olesov@code4bones.online"
	},
	"engines": {
		"vscode": "^1.74.0"
	},
	"categories": [
		"Other",
		"Programming Languages",
		"SCM Providers"
	],
	"keywords": [
		"Teams",
		"Development",
		"Parallel",
		"Files",
		"Locks"
	],
	"extensionDependencies": [],
	"activationEvents": [
		"onStartupFinished"
	],
	"main": "./out/extension.js",
	"contributes": {
		"menus": {
			"editor/title/context": [
				{
					"when": "sharedlock.state == 'locked' && sharedlock.isOwner",
					"command": "sharedlock.unlock",
					"group": "sharedlock"
				},
				{
					"when": "sharedlock.state != 'locked'",
					"command": "sharedlock.lock",
					"group": "sharedlock"
				}
			],
			"view/title": [
				{
					"command": "sharedlock.wipeLocked",
					"group": "navigation@0",
					"when": "view == sharedlock.locksView"
				}
			],
			"view/item/context": [
				{
					"when": "viewItem == owned",
					"command": "sharedlock.ctxUnlock",
					"group": "sharedlock"
				}
			]
		},
		"commands": [
			{
				"command": "sharedlock.toggleLock",
				"title": "Toggle Lock"
			},
			{
				"command": "sharedlock.wipeLocked",
				"title": "Отпустить файлы",
				"icon": "resources/icons/wipe.png"
			},
			{
				"command": "sharedlock.lock",
				"title": "Занять файл"
			},
			{
				"command": "sharedlock.unlock",
				"title": "Отпустить файл"
			},
			{
				"command": "sharedlock.ctxUnlock",
				"title": "Отпустить файл"
			},
			{
				"command": "sharedlock.ctxOpen",
				"title": "Открыть файл"
			},
			{
				"command": "sharedlock.toggle",
				"title": "Переключить владение"
			}
		],
		"views": {
			"explorer": [
				{
					"id": "sharedlock.locksView",
					"name": "SharedLocks",
					"type": "tree"
				}
			]
		},
		"colors": [
			{
				"id": "sharedlock.lockedFG",
				"description": "Locked FG",
				"defaults": {
					"dark": "statusBar.foreground",
					"light": "statusBar.foreground",
					"highContrast": "statusBar.foreground"
				}
			},
			{
				"id": "sharedlock.unlockedFG",
				"description": "Unlocked FG",
				"defaults": {
					"dark": "statusBar.foreground",
					"light": "statusBar.foreground",
					"highContrast": "statusBar.foreground"
				}
			},
			{
				"id": "sharedlock.unlockedFG",
				"description": "Unlocked FG",
				"defaults": {
					"dark": "statusBar.foreground",
					"light": "statusBar.foreground",
					"highContrast": "statusBar.foreground"
				}
			}
		],
		"configuration": [
			{
				"title": "SharedLock",
				"type": "object",
				"properties": {
					"redisHost": {
						"title": "Host",
						"type": "string",
						"default": "127.0.0.1",
						"order": 1,						
						"markdownDescription": "Redis server name or local instance"
					},
					"redisPort": {
						"type": "integer",
						"default": 6379,
						"order": 2
					},
					"redisDatabaseNumber": {
						"type": "integer",
						"default": 1,
						"order": 3,
						"markdownDeprecationMessage": "All memebers in project must set the same value"
					},
					"redisUsername": {
						"type": "string",
						"order": 4
					},
					"redisPassword": {
						"type": "string",
						"order": 5
					}
				}
			}
		]
	},
	"scripts": {
		"compile": "tsc -p ./",
		"lint": "eslint",
		"watch": "tsc -watch -p ./",
		"package1": "npm run check-types && node esbuild.js --production",
		"build": "node esbuild.js --production",
		"package": "vsce package",
		"prepackage": "npm run build",
		"publish": "vsce publish minor",
		"prepublish": "npm run compile"
	},
	"devDependencies": {
		"@eslint/js": "^9.13.0",
		"@stylistic/eslint-plugin": "^2.9.0",
		"@types/node": "^20",
		"@types/vscode": "^1.73.0",
		"esbuild": "^0.24.0",
		"eslint": "^9.13.0",
		"typescript": "^5.6.2",
		"typescript-eslint": "^8.11.0"
	},
	"dependencies": {
		"ioredis": "^5.4.1",
		"redis": "^4.7.0",
		"vscode-ext-codicons": "^1.6.0"
	}
}
