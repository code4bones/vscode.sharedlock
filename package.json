{
	"name": "sharedlock",
	"displayName": "SharedLock",
	"description": "Sharing file locks in workspace files via network",
	"version": "0.3.13",
	"publisher": "code4bones",
	"icon": "resources/icons/logo.png",
	"repository": {
		"type": "git",
		"url": "https://github.com/code4bones/vscode.sharedlock.git"
	},
	"bugs": {
		"url": "https://github.com/code4bones/vscode.sharedlock/issues",
		"email": "p.olesov@code4bones.online"
	},
	"engines": {
		"vscode": "^1.74.0"
	},
	"categories": [
		"Other",
		"Programming Languages",
		"SCM Providers"
	],
	"keywords": [
		"Teams",
		"Development",
		"Parallel",
		"Files",
		"Locks"
	],
	"extensionDependencies": [],
	"activationEvents": [
		"onStartupFinished"
	],
	"contributes": {
		"menus": {
			"editor/title/context": [
				{
					"when": "sharedlock.state == 'locked' && sharedlock.isOwner && sharedlock.hasGit && sharedlock.connected",
					"command": "sharedlock.unlock",
					"group": "sharedlock"
				},
				{
					"when": "sharedlock.state != 'locked' && sharedlock.hasGit && sharedlock.connected",
					"command": "sharedlock.lock",
					"group": "sharedlock"
				}
			],
			"view/title": [
				{
					"command": "sharedlock.wipeLocked",
					"group": "navigation@0",
					"when": "view == sharedlock.locksView && sharedlock.hasGit && sharedlock.connected"
				},
				{
					"command": "sharedlock.settings",
					"group": "navigation@1",
					"when": "view == sharedlock.locksView"
				},
				{
					"command": "sharedlock.connect",
					"group": "navigation@2",
					"when": "view == sharedlock.locksView && !sharedlock.connected"
				},
				{
					"command": "sharedlock.disconnect",
					"group": "navigation@2",
					"when": "view == sharedlock.locksView && sharedlock.connected"
				}
			],
			"explorer/context": [
				{
					"command": "sharedlock.lockFolder",
					"group": "1_modification",
					"when": "explorerResourceIsFolder && sharedlock.hasGit && sharedlock.connected"
				}
			],
			"view/item/context": [
				{
					"when": "viewItem == owned && sharedlock.hasGit && sharedlock.connected",
					"command": "sharedlock.ctxUnlock",
					"group": "sharedlock"
				}
			]
		},
		"commands": [
			{
				"command": "sharedlock.lockFolder",
				"title": "Lock Folder Contents"
			},
			{
				"command": "sharedlock.toggleLock",
				"title": "Toggle Lock"
			},
			{
				"command": "sharedlock.wipeLocked",
				"title": "Wipe Owned Files",
				"icon": "resources/icons/wipe.png"
			},
			{
				"command": "sharedlock.settings",
				"title": "Show Settings",
				"icon": "resources/icons/settings.png"
			},
			{
				"command": "sharedlock.connect",
				"title": "Connect to team",
				"icon": "resources/icons/disconnect40.png"
			},
			{
				"command": "sharedlock.disconnect",
				"title": "Disconnect from team",
				"icon": "resources/icons/connect40.png"
			},
			{
				"command": "sharedlock.lock",
				"title": "Lock File"
			},
			{
				"command": "sharedlock.unlock",
				"title": "Release File Lock"
			},
			{
				"command": "sharedlock.ctxUnlock",
				"title": "Release File Lock"
			},
			{
				"command": "sharedlock.ctxOpen",
				"title": "Open File"
			},
			{
				"command": "sharedlock.toggle",
				"title": "Toggle Lock"
			}
		],
		"views": {
			"explorer": [
				{
					"id": "sharedlock.locksView",
					"name": "SharedLocks",
					"type": "tree"
				}
			]
		},
		"colors": [
			{
				"id": "sharedlock.lockedFG",
				"description": "Locked FG",
				"defaults": {
					"dark": "statusBar.foreground",
					"light": "statusBar.foreground",
					"highContrast": "statusBar.foreground"
				}
			},
			{
				"id": "sharedlock.unlockedFG",
				"description": "Unlocked FG",
				"defaults": {
					"dark": "statusBar.foreground",
					"light": "statusBar.foreground",
					"highContrast": "statusBar.foreground"
				}
			},
			{
				"id": "sharedlock.unlockedFG",
				"description": "Unlocked FG",
				"defaults": {
					"dark": "statusBar.foreground",
					"light": "statusBar.foreground",
					"highContrast": "statusBar.foreground"
				}
			}
		],
		"configuration": [
			{
				"title": "SharedLock",
				"type": "object",
				"properties": {
					"redisHost": {
						"title": "Host",
						"type": "string",
						"default": "127.0.0.1",
						"order": 1,
						"markdownDescription": "Redis server name or local instance"
					},
					"redisPort": {
						"type": "integer",
						"default": 6379,
						"order": 2
					},
					"redisDB": {
						"type": "integer",
						"default": 1,
						"order": 3,
						"markdownDescription": "All memebers in project must set the same value"
					},
					"redisUsername": {
						"type": "string",
						"order": 4
					},
					"redisPassword": {
						"type": "string",
						"order": 5
					}
				}
			}
		]
	},
	"main": "./out/extension.js",
	"scripts": {
		"compile": "node ./esbuild.js",
		"lint": "eslint src --ext ts",
		"watch": "node ./esbuild.js --watch",
		"package": "NODE_ENV=production node ./esbuild.js",
		"publish": "vsce publish",
		"prepublish": "npm run package"
	},
	"devDependencies": {
		"@eslint/js": "^9.13.0",
		"@stylistic/eslint-plugin": "^2.9.0",
		"@types/glob": "^8.1.0",
		"@types/micromatch": "^4.0.9",
		"@types/node": "^20",
		"@types/vscode": "^1.73.0",
		"@types/vscode-webview": "^1.57.5",
		"@typescript-eslint/eslint-plugin": "^8.13.0",
		"@typescript-eslint/parser": "^8.13.0",
		"esbuild": "^0.16.17",
		"esbuild-plugin-copy": "^2.1.1",
		"eslint": "^9.13.0",
		"eslint-config-vscode-ext": "^1.1.0",
		"prettier": "^3.3.3",
		"rimraf": "^6.0.1",
		"terser-webpack-plugin": "^5.3.10",
		"typescript": "^5.6.2",
		"typescript-eslint": "^8.11.0",
		"webpack": "^5.96.1",
		"webpack-cli": "^5.1.4"
	},
	"dependencies": {
		"@vscode/webview-ui-toolkit": "^1.4.0",
		"glob": "^11.0.0",
		"ioredis": "^5.4.1",
		"micromatch": "^4.0.8",
		"vscode-ext-codicons": "^1.6.0"
	}
}
